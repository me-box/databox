# Databox 

The Databox platform. See http://www.databoxproject.uk/ for more information

## Installation

All Databox components, including the container manager, run in Docker containers. So first, install and run Docker: 

	see https://www.docker.com/products/docker for information


Then install docker-compose 

	pip install docker-compose


## Running

Once docker is installed, just run the flowing to get your databox up and running. (Images will be pulled from https://hub.docker.com/r/databoxsystems/)

	./startDatabox.sh

Once Its started point a web browser at 127.0.0.1:8989 and have fun.

To stop databox and clean up use ./stopDatabox.sh

## Development

### Get Started with the Graphical SDK

The graphical SDK will allow you to quickly build and test simple databox apps. To start the sdk run:

	./startDatabox.sh sdk

The SDK web UI is available at http://127.0.0.1:8086

To stop the SDK run: 

	./stopDatabox.sh sdk


### Develop system components and custom drivers

To develop on the platform and core components you can run 

	./startDatabox.sh dev

This will copy all the code needed to your local machine and build you a local set of docker image. Add you code into a directory with a databox manifest and docker file. Then add a reference to it in docker-compose-dev-local-images.yaml your image will then be built along with the platform. 

To install your app you will need to upload the manifest to the local app store on http://127.0.0.1:8181 then it will be visible in the UI.

## Known issues

	- Error response from daemon: network databox_[some network] not found. this is caused by starting the databox before docker has cleaned up the networks. Should work if you run ./startDatabox.sh

	- In some cases, the time in docker containers on mac can get out of sync with the system clock. This causes the HTTPS certs generated by the CM from being valid. See https://github.com/docker/for-mac/issues/17. Fix: restart docker for mac.
